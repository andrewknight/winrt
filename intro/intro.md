# Introducing Qt on Windows Runtime

This thesis documents the development process, as part of a community effort, involved in porting the [Qt 5](/appendix/terms.md#qt) development framework to Windows Runtime ([WinRT](/appendix/terms.md#winrt)). WinRT is an application runtime environment and corresponding set of Application Programming Interfaces ([API](/appendix/terms.md#api)) for Microsoft's Windows 8 family of operating systems. Qt is an actively developed [open-source](/appendix/terms.md#open-source) and [cross-platform](/appendix/terms.md#cross-platform) C++ development framework used primarily for the creation of dynamic, high-performance graphical user interfaces ([GUI](/appendix/terms.md#gui)).

The roots of the Qt for WinRT project began in late 2011 as a challenge from my employer, [Digia](/appendix/terms.md#digia). The initial investigation yielded [Qt on Metro](/appendix/references.md#1-qt-on-metro), a proof-of-concept allowing a Qt 4 application (using Qt Quick 1) to run within the Windows 8 "Metro" (now known as [Modern UI](/appendix/terms.md#modern-ui)) environment. Given that Nokia (the proprietor of Qt at the time) had publically announced its partnership with [Microsoft](/appendix/references.md#2-microsoft-and-nokia-announce-partnership) (indicating a transition away from Qt and towards Windows Phone), Qt on Metro garnered attention both [from the press](/appendix/references.md#3-tietoviikko-qt-coverage) and the [community](/appendix/references.md#4-initial-qt-on-winrt-investigation). As Qt on Metro was only a limited proof-of-concept, the effort was refocused in late 2012 with Qt 5 as a basis, and an early prototype was [demoed](/appendix/references.md#5-qt-developer-days-2012-windows-8-demo) at Qt Developer Days in November 2012. With continued efforts by myself, my colleagues, and members of the community, an announcement was made detailing the [kick-starting and continued development of Qt for Windows Runtime](/appendix/references.md#6-port-to-windows-runtime-kick-started).

WinRT provides a common API for writing applications that run within the Windows 8 Modern UI environment, a touch-oriented user experience available on Windows 8 PCs, tablets, and smartphones. For PCs, it blurs the boundaries between the traditional notions of desktop (keyboard & mouse) and the mobile (touch-screen oriented) interfaces, while placing additional restrictions on applications by running them within a platform security "[sandbox](/appendix/terms.md#sandbox)". Such applications may be eligible for sale in the [Windows Store](/appendix/terms.md#windows-store), a software marketplace Windows devices. From the point of view of this thesis, WinRT is a platform "target" which encompasses all the devices which utilize the WinRT API, including the similarly-named [Windows RT](/appendix/terms.md#windows-rt) operating system (the [ARM](/appendix/terms.md#arm) version of Windows 8 geared for the Microsoft Surface and similar tablet devices), as well Windows 8 (for desktop PCs and touch notebooks) and Windows Phone 8.

As a cross-platform framework, Qt provides a clean and consistent way for developers to utilize the same source code across a variety of operating systems and CPU architectures. This is important, as platforms generally utilize different, source-incompatible GUI toolkits. Qt is one solution developers can use to limit the amount of platform-dependent code required for multi-target development, as well as limiting the amount of platform-specific learning required to build apps for different platforms. While Qt has a long cross-platform history, its support for mobile operating systems (particularly Android and iOS) is a [recent addition](/appendix/references.md#7-qt-5-1-released). As Qt gains support for these mobile platforms, WinRT makes a natural fit to further fill out Qt's cross-platform portfolio. As an open-source project backed by commercial support, the Qt Project provides an IT infrastructure and online community for contributors to collaborate toward the continued improvement of Qt and the betterment of its users.

While Qt 5 is engineered to be [easy to port to new platforms](/appendix/references.md#8-introducing-qt-50), it is not without its challenges. Over the course of this thesis, these challenges are discussed in depth. Given the size of Qt ([300,000+ lines of code and over 200 active developers within the community](/appendix/references.md#9-qt-statistics)), it is impossible to cover all aspects required to completely port WinRT to Qt. As such, the scope has been limited only to those aspects which are most related to the development of user interfaces, with less emphasis on the non-presentational (e.g. networking or database) components of Qt. As a result, there is a mix of low-level (e.g. compiler/toolchain) requirements, middle-level details (such as the OpenGL graphics stack), and high-level integration points such as UI library and platform theming. This is, essentially, a bottom-up log of how to get Qt applications running within the WinRT environment. To round out the solution, the issue of developer experience is addressed through a "tuning" the existing Qt tools for use with WinRT and, through this combination of tooling and new features, an evaluation of the usefulness of the new port as compared to other Qt platform targets.

[Previous: Table of contents](../toc.md) | [Next: Cross-platform Programming](../background/xplatform.md)
